import numpy as np
from PIL import Image
import sys

def generate_2D_image(path : str , edge : int):
	f = open(path , 'rb')
	n = np.array(list(f.read(edge*edge)) , dtype=np.uint8)
	n_shape = n.shape
	f.close()
	#print(n_shape[0])
	#if n_shape[0] != 1024*1024:
	#	n.resize(1024*1024 , 1)
	# this will automatically pad the data with zeroes at the end and then convert the data to an array of (1024 , 1024)
	n.resize(edge , edge)
	
	return n
	#Image.fromarray(n , "L").show()

def generate_1D_image(path : str , edge : int):
	f = open(path , 'rb')
	n = np.array(list(f.read(edge*edge)) , dtype=np.uint8)
	f.close()
	n.resize(edge * edge , 1)
	return n

def display_image(n : np.ndarray):
	Image.fromarray(n , "L").show()

if __name__ == '__main__':
	if len(sys.argv) < 2:
		print("Usage: ./generate_image.py <path to image>")
		print('enter the full path of the file')
		display_image(generate_2D_image(input()))
	else:
		for i in sys.argv[1:]:
			display_image(generate_2D_image(i))
